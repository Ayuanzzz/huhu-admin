var C=Object.defineProperty;var y=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var E=(o,e,t)=>e in o?C(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,V=(o,e)=>{for(var t in e||(e={}))b.call(e,t)&&E(o,t,e[t]);if(y)for(var t of y(e))w.call(e,t)&&E(o,t,e[t]);return o};import{_ as N,a as h}from"./index.1650581300530.js";import{f as A}from"./items.16505813005302.js";import{m as L,l as g,t as Y,q as v,D as a,F as m,r as i,I as f,x as S,a0 as T,$ as U,S as j,B}from"./vendor.1650581300530.js";const q={name:"AddItem",props:{addDoingData:{type:Function,required:!0},employeeList:{type:Array,required:!0}},setup(o){const e=L({itemForm:{itemName:"",deadline:"",employeeList:[]}}),t=g(""),n=g(!1),D=()=>{e.itemForm={itemName:"",deadline:"",employeeList:[]},n.value=!0},p=()=>{n.value=!1},c=u=>{t.value=h(new Date,"YYYY-mm-dd");let d=[];return u.forEach(s=>{let r={joinTime:"",name:""};r.joinTime=t.value,r.name=s,d.push(r)}),d};return V({time:t,isShowDialog:n,openDialog:D,closeDialog:p,onCancel:()=>{p()},addData:()=>{let u=c(e.itemForm.employeeList),d=A(u),s={itemName:e.itemForm.itemName,employeeData:u,employeeStr:d,percentage:0,deadline:e.itemForm.deadline,startTime:t.value,status:"doing"};o.addDoingData(s),p()},formatArr:c},Y(e))}},I={class:"dialog-footer"},z=B("\u53D6 \u6D88"),M=B("\u65B0 \u589E");function x(o,e,t,n,D,p){const c=i("el-input"),_=i("el-form-item"),F=i("el-date-picker"),u=i("el-option"),d=i("el-select"),s=i("el-form"),r=i("el-button"),k=i("el-dialog");return f(),v("div",null,[a(k,{title:"\u65B0\u589E\u9879\u76EE",modelValue:n.isShowDialog,"onUpdate:modelValue":e[3]||(e[3]=l=>n.isShowDialog=l),width:"500px"},{footer:m(()=>[S("span",I,[a(r,{onClick:n.onCancel,size:"small"},{default:m(()=>[z]),_:1},8,["onClick"]),a(r,{type:"primary",onClick:n.addData,size:"small"},{default:m(()=>[M]),_:1},8,["onClick"])])]),default:m(()=>[a(s,{model:o.itemForm},{default:m(()=>[a(_,{label:"\u9879\u76EE\u540D\u79F0"},{default:m(()=>[a(c,{modelValue:o.itemForm.itemName,"onUpdate:modelValue":e[0]||(e[0]=l=>o.itemForm.itemName=l),placeholder:"\u8BF7\u8F93\u5165\u9879\u76EE\u540D\u79F0",clearable:""},null,8,["modelValue"])]),_:1}),a(_,{label:"\u622A\u6B62\u65E5\u671F"},{default:m(()=>[a(F,{modelValue:o.itemForm.deadline,"onUpdate:modelValue":e[1]||(e[1]=l=>o.itemForm.deadline=l),type:"date",placeholder:"\u622A\u6B62\u65E5\u671F","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(_,{label:"\u53C2\u4E0E\u4EBA\u5458"},{default:m(()=>[a(d,{modelValue:o.itemForm.employeeList,"onUpdate:modelValue":e[2]||(e[2]=l=>o.itemForm.employeeList=l),multiple:"",placeholder:"\u8BF7\u9009\u62E9",style:{width:"100%"}},{default:m(()=>[(f(!0),v(T,null,U(t.employeeList,l=>(f(),j(u,{key:l.index,label:l,value:l},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}var K=N(q,[["render",x]]);export{K as default};
