var v=Object.defineProperty;var A=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var k=(o,u,d)=>u in o?v(o,u,{enumerable:!0,configurable:!0,writable:!0,value:d}):o[u]=d,c=(o,u)=>{for(var d in u||(u={}))M.call(u,d)&&k(o,d,u[d]);if(A)for(var d of A(u))N.call(u,d)&&k(o,d,u[d]);return o};import{_ as z,u as H,G as K}from"./index.1650581300530.js";import{I as P}from"./index.165058130053023.js";import{m as q,o as G,t as O,q as _,D as e,F as l,r,I as p,x as S,C as h,O as V,a0 as U,S as R,B as n}from"./vendor.1650581300530.js";import"./getStyleSheets.1650581300530.js";const $={name:"systemAddMenu",components:{IconSelector:P},setup(){const o=H(),u=q({isShowDialog:!1,ruleForm:{menuSuperior:[],menuType:"menu",name:"",component:"",isLink:!1,menuSort:0,path:"",redirect:"",meta:{title:"",icon:"",isHide:!1,isKeepAlive:!0,isAffix:!1,isLink:"",isIframe:!1,roles:""},btnPower:""},menuData:[]}),d=m=>{const s=[];return m.map(i=>{i.title=K.global.t(i.meta.title),i.id=Math.random(),s.push(c({},i)),i.children&&d(i.children)}),s},f=()=>{u.isShowDialog=!0},b=()=>{u.isShowDialog=!1},g=()=>{u.ruleForm.meta.isIframe?u.ruleForm.isLink=!0:u.ruleForm.isLink=""},D=()=>{b()},t=()=>{b()};return G(()=>{u.menuData=d(o.state.routesList.routesList)}),c({openDialog:f,closeDialog:b,onSelectIframeChange:g,onCancel:D,onSubmit:t},O(u))}},j={class:"system-add-menu-container"},J={key:0},Q=n("\u83DC\u5355"),W=n("\u6309\u94AE"),X=n("\u9690\u85CF"),Y=n("\u4E0D\u9690\u85CF"),Z=n("\u7F13\u5B58"),ee=n("\u4E0D\u7F13\u5B58"),le=n("\u56FA\u5B9A"),ue=n("\u4E0D\u56FA\u5B9A"),oe=n("\u662F"),ae=n("\u5426"),te=n("\u662F"),me=n("\u5426"),se={class:"dialog-footer"},de=n("\u53D6 \u6D88"),re=n("\u65B0 \u589E");function ne(o,u,d,f,b,g){const D=r("el-cascader"),t=r("el-form-item"),m=r("el-col"),s=r("el-radio"),i=r("el-radio-group"),F=r("el-input"),y=r("IconSelector"),C=r("el-option"),w=r("el-select"),L=r("el-input-number"),I=r("el-row"),x=r("el-form"),E=r("el-button"),T=r("el-dialog");return p(),_("div",j,[e(T,{title:"\u65B0\u589E\u83DC\u5355",modelValue:o.isShowDialog,"onUpdate:modelValue":u[17]||(u[17]=a=>o.isShowDialog=a),width:"769px"},{footer:l(()=>[S("span",se,[e(E,{onClick:f.onCancel,size:"small"},{default:l(()=>[de]),_:1},8,["onClick"]),e(E,{type:"primary",onClick:f.onSubmit,size:"small"},{default:l(()=>[re]),_:1},8,["onClick"])])]),default:l(()=>[e(x,{model:o.ruleForm,size:"small","label-width":"80px"},{default:l(()=>[e(I,{gutter:35},{default:l(()=>[e(m,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:l(()=>[e(t,{label:"\u4E0A\u7EA7\u83DC\u5355"},{default:l(()=>[e(D,{options:o.menuData,props:{checkStrictly:!0,value:"path",label:"title"},placeholder:"\u8BF7\u9009\u62E9\u4E0A\u7EA7\u83DC\u5355",clearable:"",class:"w100",modelValue:o.ruleForm.menuSuperior,"onUpdate:modelValue":u[0]||(u[0]=a=>o.ruleForm.menuSuperior=a)},{default:l(({node:a,data:B})=>[S("span",null,h(B.title),1),a.isLeaf?V("",!0):(p(),_("span",J," ("+h(B.children.length)+") ",1))]),_:1},8,["options","modelValue"])]),_:1})]),_:1}),e(m,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:l(()=>[e(t,{label:"\u83DC\u5355\u7C7B\u578B"},{default:l(()=>[e(i,{modelValue:o.ruleForm.menuType,"onUpdate:modelValue":u[1]||(u[1]=a=>o.ruleForm.menuType=a)},{default:l(()=>[e(s,{label:"menu"},{default:l(()=>[Q]),_:1}),e(s,{label:"btn"},{default:l(()=>[W]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(t,{label:"\u83DC\u5355\u540D\u79F0"},{default:l(()=>[e(F,{modelValue:o.ruleForm.meta.title,"onUpdate:modelValue":u[2]||(u[2]=a=>o.ruleForm.meta.title=a),placeholder:"\u683C\u5F0F\uFF1Amessage.router.xxx",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),o.ruleForm.menuType==="menu"?(p(),_(U,{key:0},[e(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(t,{label:"\u8DEF\u7531\u540D\u79F0"},{default:l(()=>[e(F,{modelValue:o.ruleForm.name,"onUpdate:modelValue":u[3]||(u[3]=a=>o.ruleForm.name=a),placeholder:"\u8DEF\u7531\u4E2D\u7684 name \u503C",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(t,{label:"\u8DEF\u7531\u8DEF\u5F84"},{default:l(()=>[e(F,{modelValue:o.ruleForm.path,"onUpdate:modelValue":u[4]||(u[4]=a=>o.ruleForm.path=a),placeholder:"\u8DEF\u7531\u4E2D\u7684 path \u503C",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(t,{label:"\u91CD\u5B9A\u5411"},{default:l(()=>[e(F,{modelValue:o.ruleForm.redirect,"onUpdate:modelValue":u[5]||(u[5]=a=>o.ruleForm.redirect=a),placeholder:"\u8BF7\u8F93\u5165\u8DEF\u7531\u91CD\u5B9A\u5411",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(t,{label:"\u83DC\u5355\u56FE\u6807"},{default:l(()=>[e(y,{placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u56FE\u6807",modelValue:o.ruleForm.meta.icon,"onUpdate:modelValue":u[6]||(u[6]=a=>o.ruleForm.meta.icon=a),type:"all"},null,8,["modelValue"])]),_:1})]),_:1}),e(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(t,{label:"\u7EC4\u4EF6\u8DEF\u5F84"},{default:l(()=>[e(F,{modelValue:o.ruleForm.component,"onUpdate:modelValue":u[7]||(u[7]=a=>o.ruleForm.component=a),placeholder:"\u7EC4\u4EF6\u8DEF\u5F84",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(t,{label:"\u94FE\u63A5\u5730\u5740"},{default:l(()=>[e(F,{modelValue:o.ruleForm.meta.isLink,"onUpdate:modelValue":u[8]||(u[8]=a=>o.ruleForm.meta.isLink=a),placeholder:"\u5916\u94FE/\u5185\u5D4C\u65F6\u94FE\u63A5\u5730\u5740\uFF08http:xxx.com\uFF09",clearable:"",disabled:o.ruleForm.isLink===""||!o.ruleForm.isLink},null,8,["modelValue","disabled"])]),_:1})]),_:1}),e(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(t,{label:"\u6743\u9650\u6807\u8BC6"},{default:l(()=>[e(w,{modelValue:o.ruleForm.meta.roles,"onUpdate:modelValue":u[9]||(u[9]=a=>o.ruleForm.meta.roles=a),multiple:"",placeholder:"\u53D6\u89D2\u8272\u7BA1\u7406",clearable:"",class:"w100"},{default:l(()=>[e(C,{label:"admin",value:"admin"}),e(C,{label:"common",value:"common"})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)):V("",!0),o.ruleForm.menuType==="btn"?(p(),R(m,{key:1,xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(t,{label:"\u6743\u9650\u6807\u8BC6"},{default:l(()=>[e(F,{modelValue:o.ruleForm.btnPower,"onUpdate:modelValue":u[10]||(u[10]=a=>o.ruleForm.btnPower=a),placeholder:"\u8BF7\u8F93\u5165\u6743\u9650\u6807\u8BC6",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})):V("",!0),e(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(t,{label:"\u83DC\u5355\u6392\u5E8F"},{default:l(()=>[e(L,{modelValue:o.ruleForm.menuSort,"onUpdate:modelValue":u[11]||(u[11]=a=>o.ruleForm.menuSort=a),"controls-position":"right",placeholder:"\u8BF7\u8F93\u5165\u6392\u5E8F",class:"w100"},null,8,["modelValue"])]),_:1})]),_:1}),o.ruleForm.menuType==="menu"?(p(),_(U,{key:2},[e(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(t,{label:"\u662F\u5426\u9690\u85CF"},{default:l(()=>[e(i,{modelValue:o.ruleForm.meta.isHide,"onUpdate:modelValue":u[12]||(u[12]=a=>o.ruleForm.meta.isHide=a)},{default:l(()=>[e(s,{label:!0},{default:l(()=>[X]),_:1}),e(s,{label:!1},{default:l(()=>[Y]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(t,{label:"\u9875\u9762\u7F13\u5B58"},{default:l(()=>[e(i,{modelValue:o.ruleForm.meta.isKeepAlive,"onUpdate:modelValue":u[13]||(u[13]=a=>o.ruleForm.meta.isKeepAlive=a)},{default:l(()=>[e(s,{label:!0},{default:l(()=>[Z]),_:1}),e(s,{label:!1},{default:l(()=>[ee]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(t,{label:"\u662F\u5426\u56FA\u5B9A"},{default:l(()=>[e(i,{modelValue:o.ruleForm.meta.isAffix,"onUpdate:modelValue":u[14]||(u[14]=a=>o.ruleForm.meta.isAffix=a)},{default:l(()=>[e(s,{label:!0},{default:l(()=>[le]),_:1}),e(s,{label:!1},{default:l(()=>[ue]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(t,{label:"\u662F\u5426\u5916\u94FE"},{default:l(()=>[e(i,{modelValue:o.ruleForm.isLink,"onUpdate:modelValue":u[15]||(u[15]=a=>o.ruleForm.isLink=a),disabled:o.ruleForm.meta.isIframe},{default:l(()=>[e(s,{label:!0},{default:l(()=>[oe]),_:1}),e(s,{label:!1},{default:l(()=>[ae]),_:1})]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),e(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(t,{label:"\u662F\u5426\u5185\u5D4C"},{default:l(()=>[e(i,{modelValue:o.ruleForm.meta.isIframe,"onUpdate:modelValue":u[16]||(u[16]=a=>o.ruleForm.meta.isIframe=a),onChange:f.onSelectIframeChange},{default:l(()=>[e(s,{label:!0},{default:l(()=>[te]),_:1}),e(s,{label:!1},{default:l(()=>[me]),_:1})]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1})],64)):V("",!0)]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}var _e=z($,[["render",ne]]);export{_e as default};
