var Xe=Object.defineProperty;var Ae=Object.getOwnPropertySymbols;var Je=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable;var Re=(e,n,i)=>n in e?Xe(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,F=(e,n)=>{for(var i in n||(n={}))Je.call(n,i)&&Re(e,i,n[i]);if(Ae)for(var i of Ae(n))Ze.call(n,i)&&Re(e,i,n[i]);return e};import{_ as R,u as z,L as Q,S as oe,r as et,o as He,i as ve}from"./index.1650542013096.js";import{L as T,I as g,q as v,x as L,C as x,G as De,H as ze,k as G,i as ie,r as f,$ as J,a0 as q,S as $,F as _,D as h,B as D,P as Z,m as N,R as K,o as ee,a1 as le,t as U,a2 as Ee,Q as ue,w as ce,v as me,O as B,y as E,a3 as de,a4 as tt,A as ne,M as re,l as X,K as qe,n as ae,T as Pe,b as $e,E as nt,p as fe,a5 as st}from"./vendor.1650542013096.js";import{S as ot}from"./sortable.esm.1650542013096.js";import at from"./parent.1650542013096.js";const it={name:"layoutLogo",setup(){const{proxy:e}=G(),n=z(),i=T(()=>n.state.themeConfig.themeConfig);return{setShowLogo:T(()=>{let{isCollapse:C,layout:o}=n.state.themeConfig.themeConfig;return!C||o==="classic"||document.body.clientWidth<1e3}),getThemeConfig:i,onThemeConfigChange:()=>{if(n.state.themeConfig.themeConfig.layout==="transverse")return!1;e.mittBus.emit("onMenuClick"),n.state.themeConfig.themeConfig.isCollapse=!n.state.themeConfig.themeConfig.isCollapse}}}},Oe=e=>(De("data-v-7ed482c1"),e=e(),ze(),e),lt=Oe(()=>L("img",{src:"https://gitee.com/lyt-top/vue-next-admin-images/raw/master/logo/logo-mini.svg",class:"layout-logo-medium-img"},null,-1)),rt=Oe(()=>L("img",{src:"https://gitee.com/lyt-top/vue-next-admin-images/raw/master/logo/logo-mini.svg",class:"layout-logo-size-img"},null,-1)),ut=[rt];function ct(e,n,i,t,d,C){return t.setShowLogo?(g(),v("div",{key:0,class:"layout-logo",onClick:n[0]||(n[0]=(...o)=>t.onThemeConfigChange&&t.onThemeConfigChange(...o))},[lt,L("span",null,x(t.getThemeConfig.globalTitle),1)])):(g(),v("div",{key:1,class:"layout-logo-size",onClick:n[1]||(n[1]=(...o)=>t.onThemeConfigChange&&t.onThemeConfigChange(...o))},ut))}var Ne=R(it,[["render",ct],["__scopeId","data-v-7ed482c1"]]);const mt=ie({name:"navMenuSubItem",props:{chil:{type:Array,default:()=>[]}},setup(e){return{chils:T(()=>e.chil)}}}),dt=["href"];function ft(e,n,i,t,d,C){const o=f("SvgIcon"),l=f("sub-item",!0),s=f("el-sub-menu"),p=f("el-menu-item");return g(!0),v(q,null,J(e.chils,m=>(g(),v(q,null,[m.children&&m.children.length>0?(g(),$(s,{index:m.path,key:m.path},{title:_(()=>[h(o,{name:m.meta.icon},null,8,["name"]),L("span",null,x(e.$t(m.meta.title)),1)]),default:_(()=>[h(l,{chil:m.children},null,8,["chil"])]),_:2},1032,["index"])):(g(),$(p,{index:m.path,key:m.path},{default:_(()=>[!m.meta.isLink||m.meta.isLink&&m.meta.isIframe?(g(),v(q,{key:0},[h(o,{name:m.meta.icon},null,8,["name"]),L("span",null,x(e.$t(m.meta.title)),1)],64)):(g(),v("a",{key:1,href:m.meta.isLink,target:"_blank",rel:"opener"},[h(o,{name:m.meta.icon},null,8,["name"]),D(" "+x(e.$t(m.meta.title)),1)],8,dt))]),_:2},1032,["index"]))],64))),256)}var Ue=R(mt,[["render",ft]]);const ht=ie({name:"navMenuVertical",components:{SubItem:Ue},props:{menuList:{type:Array,default:()=>[]}},setup(e){const{proxy:n}=G(),i=z(),t=Z(),d=N({defaultActive:t.meta.isDynamic?t.meta.isDynamicPath:t.path,isCollapse:!1}),C=T(()=>e.menuList),o=T(()=>i.state.themeConfig.themeConfig),l=s=>{const{path:p,meta:m}=s,u=m.isDynamic?m.isDynamicPath.split("/"):p.split("/");return u.length>=4&&m.isHide?u.splice(0,3).join("/"):p};return K(i.state.themeConfig.themeConfig,()=>{document.body.clientWidth<=1e3?d.isCollapse=!1:d.isCollapse=o.value.isCollapse},{immediate:!0}),ee(()=>{d.defaultActive=l(t)}),le(s=>{d.defaultActive=l(s),n.mittBus.emit("onMenuClick"),document.body.clientWidth<1e3&&(o.value.isCollapse=!1)}),F({menuLists:C,getThemeConfig:o},U(d))}});function pt(e,n,i,t,d,C){const o=f("SvgIcon"),l=f("SubItem"),s=f("el-sub-menu"),p=f("el-menu-item"),m=f("el-menu");return g(),$(m,{router:"","default-active":e.defaultActive,"background-color":"transparent",collapse:e.isCollapse,"unique-opened":e.getThemeConfig.isUniqueOpened,"collapse-transition":!1},{default:_(()=>[(g(!0),v(q,null,J(e.menuLists,u=>(g(),v(q,null,[u.children&&u.children.length>0?(g(),$(s,{index:u.path,key:u.path},{title:_(()=>[h(o,{name:u.meta.icon},null,8,["name"]),L("span",null,x(e.$t(u.meta.title)),1)]),default:_(()=>[h(l,{chil:u.children},null,8,["chil"])]),_:2},1032,["index"])):(g(),$(p,{index:u.path,key:u.path},Ee({default:_(()=>[h(o,{name:u.meta.icon},null,8,["name"])]),_:2},[!u.meta.isLink||u.meta.isLink&&u.meta.isIframe?{name:"title",fn:_(()=>[L("span",null,x(e.$t(u.meta.title)),1)])}:{name:"title",fn:_(()=>[L("a",{href:u.meta.isLink,target:"_blank",rel:"opener"},x(e.$t(u.meta.title)),9,["href"])])}]),1032,["index"]))],64))),256))]),_:1},8,["default-active","collapse","unique-opened"])}var gt=R(ht,[["render",pt]]);const _t={name:"layoutAside",components:{Logo:Ne,Vertical:gt},setup(){const{proxy:e}=G(),n=z(),i=N({menuList:[],clientWidth:""}),t=T(()=>n.state.themeConfig.themeConfig),d=T(()=>n.state.tagsViewRoutes.isTagsViewCurrenFull),C=T(()=>{const{layout:a,isCollapse:y,menuBar:S}=n.state.themeConfig.themeConfig,A=S==="#FFFFFF"||S==="#FFF"||S==="#fff"||S==="#ffffff"?"layout-el-aside-br-color":"";if(i.clientWidth<=1e3)if(y){document.body.setAttribute("class","el-popup-parent--hidden");const W=document.querySelector(".layout-container"),V=document.createElement("div");return V.setAttribute("class","layout-aside-mobile-mode"),W.appendChild(V),V.addEventListener("click",o),[A,"layout-aside-mobile","layout-aside-mobile-open"]}else return o(),[A,"layout-aside-mobile","layout-aside-mobile-close"];else return a==="columns"?y?[A,"layout-aside-pc-1"]:[A,"layout-aside-pc-220"]:y?[A,"layout-aside-pc-64"]:[A,"layout-aside-pc-220"]}),o=()=>{var S;const a=document.querySelector(".layout-aside-mobile-mode");a&&((S=a.parentNode)==null||S.removeChild(a)),document.body.clientWidth<1e3&&(n.state.themeConfig.themeConfig.isCollapse=!1),document.body.setAttribute("class","")},l=T(()=>{let{layout:a,isShowLogo:y}=n.state.themeConfig.themeConfig;return y&&a==="defaults"||y&&a==="columns"}),s=()=>{if(n.state.themeConfig.themeConfig.layout==="columns")return!1;i.menuList=p(n.state.routesList.routesList)},p=a=>a.filter(y=>!y.meta.isHide).map(y=>(y=Object.assign({},y),y.children&&(y.children=p(y.children)),y)),m=a=>{i.clientWidth=a},u=a=>{let{layout:y}=n.state.themeConfig.themeConfig;if(y!=="columns")return!1;a||e.mittBus.emit("restoreDefault"),n.dispatch("routesList/setColumnsMenuHover",a)};return K(n.state.themeConfig.themeConfig,a=>{if(a.isShowLogoChange!==a.isShowLogo){if(!e.$refs.layoutAsideScrollbarRef)return!1;e.$refs.layoutAsideScrollbarRef.update()}}),K(n.state,a=>{let{layout:y,isClassicSplitMenu:S}=a.themeConfig.themeConfig;if(y==="classic"&&S)return!1;s()}),ue(()=>{m(document.body.clientWidth),s(),e.mittBus.on("setSendColumnsChildren",a=>{i.menuList=a.children}),e.mittBus.on("setSendClassicChildren",a=>{let{layout:y,isClassicSplitMenu:S}=n.state.themeConfig.themeConfig;y==="classic"&&S&&(i.menuList=[],i.menuList=a.children)}),e.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{s()}),e.mittBus.on("layoutMobileResize",a=>{m(a.clientWidth),o()})}),F({setCollapseStyle:C,setShowLogo:l,getThemeConfig:t,isTagsViewCurrenFull:d,onAsideEnterLeave:u},U(i))}},Ct={class:"h100"};function yt(e,n,i,t,d,C){const o=f("Logo"),l=f("Vertical"),s=f("el-scrollbar"),p=f("el-aside");return ce((g(),v("div",Ct,[h(p,{class:E(["layout-aside",t.setCollapseStyle])},{default:_(()=>[t.setShowLogo?(g(),$(o,{key:0})):B("",!0),h(s,{class:"flex-auto",ref:"layoutAsideScrollbarRef",onMouseenter:n[0]||(n[0]=m=>t.onAsideEnterLeave(!0)),onMouseleave:n[1]||(n[1]=m=>t.onAsideEnterLeave(!1))},{default:_(()=>[h(l,{menuList:e.menuList},null,8,["menuList"])]),_:1},512)]),_:1},8,["class"])],512)),[[me,!t.isTagsViewCurrenFull]])}var ke=R(_t,[["render",yt]]);const wt={name:"layoutBreadcrumb",setup(){const{proxy:e}=G(),n=z(),i=Z(),t=de(),d=N({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),C=T(()=>n.state.themeConfig.themeConfig),o=T(()=>{m(i.path);const{layout:u,isBreadcrumb:a}=n.state.themeConfig.themeConfig;return u==="classic"||u==="transverse"?"none":a?"":"none"}),l=u=>{const{redirect:a,path:y}=u;a?t.push(a):t.push(y)},s=()=>{e.mittBus.emit("onMenuClick"),n.state.themeConfig.themeConfig.isCollapse=!n.state.themeConfig.themeConfig.isCollapse},p=u=>{u.map(a=>{d.routeSplit.map((y,S,A)=>{d.routeSplitFirst===a.path&&(d.routeSplitFirst+=`/${A[d.routeSplitIndex]}`,d.breadcrumbList.push(a),d.routeSplitIndex++,a.children&&p(a.children))})})},m=u=>{if(!n.state.themeConfig.themeConfig.isBreadcrumb)return!1;d.breadcrumbList=[n.state.routesList.routesList[0]],d.routeSplit=u.split("/"),d.routeSplit.shift(),d.routeSplitFirst=`/${d.routeSplit[0]}`,d.routeSplitIndex=1,p(n.state.routesList.routesList)};return ee(()=>{m(i.path)}),le(u=>{m(u.path)}),F({onThemeConfigChange:s,isShowBreadcrumb:o,getThemeConfig:C,onBreadcrumbClick:l},U(d))}},bt={key:0,class:"layout-navbars-breadcrumb-span"},St=["onClick"];function Lt(e,n,i,t,d,C){const o=f("SvgIcon"),l=f("el-breadcrumb-item"),s=f("el-breadcrumb");return g(),v("div",{class:"layout-navbars-breadcrumb",style:re({display:t.isShowBreadcrumb})},[h(o,{class:"layout-navbars-breadcrumb-icon",name:t.getThemeConfig.isCollapse?"elementExpand":"elementFold",onClick:t.onThemeConfigChange},null,8,["name","onClick"]),h(s,{class:"layout-navbars-breadcrumb-hide"},{default:_(()=>[h(tt,{name:"breadcrumb",mode:"out-in"},{default:_(()=>[(g(!0),v(q,null,J(e.breadcrumbList,(p,m)=>(g(),$(l,{key:p.meta.title},{default:_(()=>[m===e.breadcrumbList.length-1?(g(),v("span",bt,[t.getThemeConfig.isBreadcrumbIcon?(g(),$(o,{key:0,name:p.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):B("",!0),D(x(e.$t(p.meta.title)),1)])):(g(),v("a",{key:1,onClick:ne(u=>t.onBreadcrumbClick(p),["prevent"])},[t.getThemeConfig.isBreadcrumbIcon?(g(),$(o,{key:0,name:p.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):B("",!0),D(x(e.$t(p.meta.title)),1)],8,St))]),_:2},1024))),128))]),_:1})]),_:1})],4)}var vt=R(wt,[["render",Lt],["__scopeId","data-v-2aaaa472"]]);const Me=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Y=(()=>{const e=Me[0],n={};for(const i of Me)if((i==null?void 0:i[1])in document){for(const[d,C]of i.entries())n[e[d]]=C;return n}return!1})(),Be={change:Y.fullscreenchange,error:Y.fullscreenerror};let O={request(e=document.documentElement,n){return new Promise((i,t)=>{const d=()=>{O.off("change",d),i()};O.on("change",d);const C=e[Y.requestFullscreen](n);C instanceof Promise&&C.then(d).catch(t)})},exit(){return new Promise((e,n)=>{if(!O.isFullscreen){e();return}const i=()=>{O.off("change",i),e()};O.on("change",i);const t=document[Y.exitFullscreen]();t instanceof Promise&&t.then(i).catch(n)})},toggle(e,n){return O.isFullscreen?O.exit():O.request(e,n)},onchange(e){O.on("change",e)},onerror(e){O.on("error",e)},on(e,n){const i=Be[e];i&&document.addEventListener(i,n,!1)},off(e,n){const i=Be[e];i&&document.removeEventListener(i,n,!1)},raw:Y};Object.defineProperties(O,{isFullscreen:{get:()=>Boolean(document[Y.fullscreenElement])},element:{enumerable:!0,get:()=>{var e;return(e=document[Y.fullscreenElement])!=null?e:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[Y.fullscreenEnabled])}});Y||(O={isEnabled:!1});var _e=O;const $t={name:"layoutBreadcrumbUserNews",setup(){const e=N({newsList:[{label:"Vue3\u5B66\u4E60",value:"Vue3+TypeScript+Vite",time:"2022-03-16"}]});return F({onAllReadClick:()=>{e.newsList=[]},onGoToGiteeClick:()=>{window.open("https://github.com/Ayuanzzz/huhu-admin")}},U(e))}},kt={class:"layout-navbars-breadcrumb-user-news"},Vt={class:"head-box"},xt={class:"head-box-title"},Tt={class:"content-box"},It={class:"content-box-msg"},Ft={class:"content-box-time"};function At(e,n,i,t,d,C){const o=f("el-empty");return g(),v("div",kt,[L("div",Vt,[L("div",xt,x(e.$t("message.user.newTitle")),1),e.newsList.length>0?(g(),v("div",{key:0,class:"head-box-btn",onClick:n[0]||(n[0]=(...l)=>t.onAllReadClick&&t.onAllReadClick(...l))},x(e.$t("message.user.newBtn")),1)):B("",!0)]),L("div",Tt,[e.newsList.length>0?(g(!0),v(q,{key:0},J(e.newsList,(l,s)=>(g(),v("div",{class:"content-box-item",key:s},[L("div",null,x(l.label),1),L("div",It,x(l.value),1),L("div",Ft,x(l.time),1)]))),128)):(g(),$(o,{key:1,description:e.$t("message.user.newDesc")},null,8,["description"]))]),e.newsList.length>0?(g(),v("div",{key:0,class:"foot-box",onClick:n[1]||(n[1]=(...l)=>t.onGoToGiteeClick&&t.onGoToGiteeClick(...l))},x(e.$t("message.user.newGo")),1)):B("",!0)])}var Rt=R($t,[["render",At],["__scopeId","data-v-21a9eec0"]]);const Mt=ie({name:"layoutBreadcrumbSearch",setup(){const e=X(),{t:n}=qe(),i=z(),t=de(),d=N({isShowSearch:!1,menuQuery:"",tagsViewList:[]}),C=()=>{d.menuQuery="",d.isShowSearch=!0,p(),ae(()=>{e.value.focus()})},o=()=>{d.isShowSearch=!1},l=(a,y)=>{let S=a?d.tagsViewList.filter(s(a)):d.tagsViewList;y(S)},s=a=>y=>y.path.toLowerCase().indexOf(a.toLowerCase())>-1||y.meta.title.toLowerCase().indexOf(a.toLowerCase())>-1||n(y.meta.title).indexOf(a.toLowerCase())>-1,p=()=>{if(d.tagsViewList.length>0)return!1;i.state.tagsViewRoutes.tagsViewRoutes.map(a=>{a.meta.isHide||d.tagsViewList.push(F({},a))})};return F({layoutMenuAutocompleteRef:e,openSearch:C,closeSearch:o,menuSearch:l,onHandleSelect:a=>{let{path:y,redirect:S}=a;a.meta.isLink&&!a.meta.isIframe?window.open(a.meta.isLink):S?t.push(S):t.push(y),o()},onSearchBlur:()=>{o()}},U(d))}}),Bt={class:"layout-search-dialog"};function Ht(e,n,i,t,d,C){const o=f("elementSearch"),l=f("el-icon"),s=f("SvgIcon"),p=f("el-autocomplete"),m=f("el-dialog");return g(),v("div",Bt,[h(m,{modelValue:e.isShowSearch,"onUpdate:modelValue":n[1]||(n[1]=u=>e.isShowSearch=u),width:"300px","destroy-on-close":"",modal:!1,fullscreen:"","show-close":!1},{default:_(()=>[h(p,{modelValue:e.menuQuery,"onUpdate:modelValue":n[0]||(n[0]=u=>e.menuQuery=u),"fetch-suggestions":e.menuSearch,placeholder:e.$t("message.user.searchPlaceholder"),ref:"layoutMenuAutocompleteRef",onSelect:e.onHandleSelect,onBlur:e.onSearchBlur},{prefix:_(()=>[h(l,{class:"el-input__icon"},{default:_(()=>[h(o)]),_:1})]),default:_(({item:u})=>[L("div",null,[h(s,{name:u.meta.icon,class:"mr5"},null,8,["name"]),D(" "+x(e.$t(u.meta.title)),1)])]),_:1},8,["modelValue","fetch-suggestions","placeholder","onSelect","onBlur"])]),_:1},8,["modelValue"])])}var Dt=R(Mt,[["render",Ht],["__scopeId","data-v-6ff203c7"]]);const zt={name:"layoutBreadcrumbUser",components:{UserNews:Rt,Search:Dt},setup(){const{t:e}=qe(),{proxy:n}=G(),i=de(),t=z(),d=X(),C=N({isScreenfull:!1,isShowUserNewsPopover:!1,disabledI18n:"zh-cn",disabledSize:""}),o=T(()=>t.state.userInfos.userInfos),l=T(()=>t.state.themeConfig.themeConfig),s=T(()=>{let{layout:V,isClassicSplitMenu:k}=l.value,I="";return V==="defaults"||V==="classic"&&!k||V==="columns"?I=1:I=null,I}),p=()=>{if(!_e.isEnabled)return $e.warning("\u6682\u4E0D\u4E0D\u652F\u6301\u5168\u5C4F"),!1;_e.toggle(),_e.on("change",()=>{_e.isFullscreen?C.isScreenfull=!0:C.isScreenfull=!1})},m=V=>{V==="logOut"?nt({closeOnClickModal:!1,closeOnPressEscape:!1,title:e("message.user.logOutTitle"),message:e("message.user.logOutMessage"),showCancelButton:!0,confirmButtonText:e("message.user.logOutConfirm"),cancelButtonText:e("message.user.logOutCancel"),beforeClose:(k,I,H)=>{k==="confirm"?(I.confirmButtonLoading=!0,I.confirmButtonText=e("message.user.logOutExit"),setTimeout(()=>{H(),setTimeout(()=>{I.confirmButtonLoading=!1},300)},700)):H()}}).then(()=>{oe.clear(),et(),i.push("/login"),setTimeout(()=>{$e.success(e("message.user.logOutSuccess"))},300)}).catch(()=>{}):V==="wareHouse"?window.open("https://github.com/Ayuanzzz/huhu-admin"):i.push(V)},u=()=>{d.value.openSearch()},a=V=>{Q.remove("themeConfig"),l.value.globalComponentSize=V,Q.set("themeConfig",l.value),n.$ELEMENT.size=V,W(),window.location.reload()},y=V=>{Q.remove("themeConfig"),l.value.globalI18n=V,Q.set("themeConfig",l.value),n.$i18n.locale=V,A(),He.useTitle()},S=V=>{n.mittBus.emit("getI18nConfig",n.$i18n.messages[V])},A=()=>{switch(Q.get("themeConfig").globalI18n){case"zh-cn":C.disabledI18n="zh-cn",S("zh-cn");break;case"en":C.disabledI18n="en",S("en");break;case"zh-tw":C.disabledI18n="zh-tw",S("zh-tw");break}},W=()=>{switch(Q.get("themeConfig").globalComponentSize){case"":C.disabledSize="";break;case"medium":C.disabledSize="medium";break;case"small":C.disabledSize="small";break;case"mini":C.disabledSize="mini";break}};return ee(()=>{Q.get("themeConfig")&&(A(),W())}),F({getUserInfos:o,onHandleCommandClick:m,onScreenfullClick:p,onSearchClick:u,onComponentSizeChange:a,onLanguageChange:y,searchRef:d,layoutUserFlexNum:s},U(C))}},Et={class:"layout-navbars-breadcrumb-user-icon"},qt=["title"],Pt={class:"layout-navbars-breadcrumb-user-icon"},Ot=["title"],Nt=D("\u7B80\u4F53\u4E2D\u6587"),Ut=D("English"),Wt=D("\u7E41\u9AD4\u4E2D\u6587"),jt={class:"layout-navbars-breadcrumb-user-icon"},Gt=["title"],Qt={class:"layout-navbars-breadcrumb-user-link"},Yt=["src"];function Kt(e,n,i,t,d,C){const o=f("el-dropdown-item"),l=f("el-dropdown-menu"),s=f("el-dropdown"),p=f("elementSearch"),m=f("el-icon"),u=f("elementBell"),a=f("el-badge"),y=f("UserNews"),S=f("el-popover"),A=f("elementArrowDown"),W=f("Search");return g(),v("div",{class:"layout-navbars-breadcrumb-user",style:re({flex:t.layoutUserFlexNum})},[h(s,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:t.onComponentSizeChange},{dropdown:_(()=>[h(l,null,{default:_(()=>[h(o,{command:"",disabled:e.disabledSize===""},{default:_(()=>[D(x(e.$t("message.user.dropdownDefault")),1)]),_:1},8,["disabled"]),h(o,{command:"medium",disabled:e.disabledSize==="medium"},{default:_(()=>[D(x(e.$t("message.user.dropdownMedium")),1)]),_:1},8,["disabled"]),h(o,{command:"small",disabled:e.disabledSize==="small"},{default:_(()=>[D(x(e.$t("message.user.dropdownSmall")),1)]),_:1},8,["disabled"]),h(o,{command:"mini",disabled:e.disabledSize==="mini"},{default:_(()=>[D(x(e.$t("message.user.dropdownMini")),1)]),_:1},8,["disabled"])]),_:1})]),default:_(()=>[L("div",Et,[L("i",{class:"iconfont icon-ziti",title:e.$t("message.user.title0")},null,8,qt)])]),_:1},8,["onCommand"]),h(s,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:t.onLanguageChange},{dropdown:_(()=>[h(l,null,{default:_(()=>[h(o,{command:"zh-cn",disabled:e.disabledI18n==="zh-cn"},{default:_(()=>[Nt]),_:1},8,["disabled"]),h(o,{command:"en",disabled:e.disabledI18n==="en"},{default:_(()=>[Ut]),_:1},8,["disabled"]),h(o,{command:"zh-tw",disabled:e.disabledI18n==="zh-tw"},{default:_(()=>[Wt]),_:1},8,["disabled"])]),_:1})]),default:_(()=>[L("div",Pt,[L("i",{class:E(["iconfont",e.disabledI18n==="en"?"icon-fuhao-yingwen":"icon-fuhao-zhongwen"]),title:e.$t("message.user.title1")},null,10,Ot)])]),_:1},8,["onCommand"]),L("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:n[0]||(n[0]=(...V)=>t.onSearchClick&&t.onSearchClick(...V))},[h(m,{title:e.$t("message.user.title2")},{default:_(()=>[h(p)]),_:1},8,["title"])]),L("div",jt,[h(S,{placement:"bottom",trigger:"click",visible:e.isShowUserNewsPopover,"onUpdate:visible":n[2]||(n[2]=V=>e.isShowUserNewsPopover=V),width:300,"popper-class":"el-popover-pupop-user-news"},{reference:_(()=>[h(a,{"is-dot":!0,onClick:n[1]||(n[1]=V=>e.isShowUserNewsPopover=!e.isShowUserNewsPopover)},{default:_(()=>[h(m,{title:e.$t("message.user.title4")},{default:_(()=>[h(u)]),_:1},8,["title"])]),_:1})]),default:_(()=>[h(Pe,{name:"el-zoom-in-top"},{default:_(()=>[ce(h(y,null,null,512),[[me,e.isShowUserNewsPopover]])]),_:1})]),_:1},8,["visible"])]),L("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:n[3]||(n[3]=(...V)=>t.onScreenfullClick&&t.onScreenfullClick(...V))},[L("i",{class:E(["iconfont",e.isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:e.isScreenfull?e.$t("message.user.title6"):e.$t("message.user.title5")},null,10,Gt)]),h(s,{"show-timeout":70,"hide-timeout":50,onCommand:t.onHandleCommandClick},{dropdown:_(()=>[h(l,null,{default:_(()=>[h(o,{command:"/home"},{default:_(()=>[D(x(e.$t("message.user.dropdown1")),1)]),_:1}),h(o,{command:"wareHouse"},{default:_(()=>[D(x(e.$t("message.user.dropdown6")),1)]),_:1}),h(o,{divided:"",command:"logOut"},{default:_(()=>[D(x(e.$t("message.user.dropdown5")),1)]),_:1})]),_:1})]),default:_(()=>[L("span",Qt,[L("img",{src:t.getUserInfos.photo,class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,Yt),D(" "+x(t.getUserInfos.userName===""?"test":t.getUserInfos.userName)+" ",1),h(m,{class:"el-icon--right"},{default:_(()=>[h(A)]),_:1})])]),_:1},8,["onCommand"]),h(W,{ref:"searchRef"},null,512)],4)}var Xt=R(zt,[["render",Kt],["__scopeId","data-v-1a51e986"]]);const Jt=ie({name:"navMenuHorizontal",components:{SubItem:Ue},props:{menuList:{type:Array,default:()=>[]}},setup(e){const{proxy:n}=G(),i=Z(),t=z(),d=N({defaultActive:null}),C=T(()=>e.menuList),o=u=>{const a=u.wheelDelta||-u.deltaY*40;n.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft=n.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft+a/4},l=()=>{ae(()=>{let u=document.querySelector(".el-menu.el-menu--horizontal li.is-active");if(!u)return!1;n.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft=u.offsetLeft})},s=u=>u.filter(a=>!a.meta.isHide).map(a=>(a=Object.assign({},a),a.children&&(a.children=s(a.children)),a)),p=u=>{const a=u.split("/");let y={};return s(t.state.routesList.routesList).map((S,A)=>{S.path===`/${a[1]}`&&(S.k=A,y.item=[F({},S)],y.children=[F({},S)],S.children&&(y.children=S.children))}),y},m=u=>{const{path:a,meta:y}=u;if(t.state.themeConfig.themeConfig.layout==="classic")d.defaultActive=`/${a.split("/")[1]}`;else{const S=y.isDynamic?y.isDynamicPath.split("/"):a.split("/");S.length>=4&&y.isHide?d.defaultActive=S.splice(0,3).join("/"):d.defaultActive=a}};return ue(()=>{m(i)}),ee(()=>{l()}),le(u=>{m(u),n.mittBus.emit("onMenuClick");let{layout:a,isClassicSplitMenu:y}=t.state.themeConfig.themeConfig;a==="classic"&&y&&n.mittBus.emit("setSendClassicChildren",p(u.path))}),F({menuLists:C,onElMenuHorizontalScroll:o},U(d))}}),Zt={class:"el-menu-horizontal-warp"};function en(e,n,i,t,d,C){const o=f("SvgIcon"),l=f("SubItem"),s=f("el-sub-menu"),p=f("el-menu-item"),m=f("el-menu"),u=f("el-scrollbar");return g(),v("div",Zt,[h(u,{onWheel:ne(e.onElMenuHorizontalScroll,["prevent"]),ref:"elMenuHorizontalScrollRef"},{default:_(()=>[h(m,{router:"","default-active":e.defaultActive,"background-color":"transparent",mode:"horizontal"},{default:_(()=>[(g(!0),v(q,null,J(e.menuLists,a=>(g(),v(q,null,[a.children&&a.children.length>0?(g(),$(s,{index:a.path,key:a.path},{title:_(()=>[h(o,{name:a.meta.icon},null,8,["name"]),L("span",null,x(e.$t(a.meta.title)),1)]),default:_(()=>[h(l,{chil:a.children},null,8,["chil"])]),_:2},1032,["index"])):(g(),$(p,{index:a.path,key:a.path},Ee({_:2},[!a.meta.isLink||a.meta.isLink&&a.meta.isIframe?{name:"title",fn:_(()=>[h(o,{name:a.meta.icon},null,8,["name"]),D(" "+x(e.$t(a.meta.title)),1)])}:{name:"title",fn:_(()=>[L("a",{href:a.meta.isLink,target:"_blank",rel:"opener"},[h(o,{name:a.meta.icon},null,8,["name"]),D(" "+x(e.$t(a.meta.title)),1)],8,["href"])])}]),1032,["index"]))],64))),256))]),_:1},8,["default-active"])]),_:1},8,["onWheel"])])}var tn=R(Jt,[["render",en],["__scopeId","data-v-b9478dca"]]);const nn={name:"layoutBreadcrumbIndex",components:{Breadcrumb:vt,User:Xt,Logo:Ne,Horizontal:tn},setup(){const{proxy:e}=G(),n=z(),i=Z(),t=N({menuList:[]}),d=T(()=>n.state.themeConfig.themeConfig),C=T(()=>{let{isShowLogo:u,layout:a}=n.state.themeConfig.themeConfig;return u&&a==="classic"||u&&a==="transverse"}),o=T(()=>{let{layout:u,isClassicSplitMenu:a}=n.state.themeConfig.themeConfig;return u==="transverse"||a&&u==="classic"}),l=()=>{let{layout:u,isClassicSplitMenu:a}=n.state.themeConfig.themeConfig;if(u==="classic"&&a){t.menuList=s(p(n.state.routesList.routesList));const y=m(i.path);e.mittBus.emit("setSendClassicChildren",y)}else t.menuList=p(n.state.routesList.routesList)},s=u=>(u.map(a=>{a.children&&delete a.children}),u),p=u=>u.filter(a=>!a.meta.isHide).map(a=>(a=Object.assign({},a),a.children&&(a.children=p(a.children)),a)),m=u=>{const a=u.split("/");let y={};return p(n.state.routesList.routesList).map((S,A)=>{S.path===`/${a[1]}`&&(S.k=A,y.item=[F({},S)],y.children=[F({},S)],S.children&&(y.children=S.children))}),y};return ee(()=>{l(),e.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{l()})}),fe(()=>{e.mittBus.off("getBreadcrumbIndexSetFilterRoutes")}),F({getThemeConfig:d,setIsShowLogo:C,isLayoutTransverse:o},U(t))}},sn={class:"layout-navbars-breadcrumb-index"};function on(e,n,i,t,d,C){const o=f("Logo"),l=f("Breadcrumb"),s=f("Horizontal"),p=f("User");return g(),v("div",sn,[t.setIsShowLogo?(g(),$(o,{key:0})):B("",!0),h(l),t.isLayoutTransverse?(g(),$(s,{key:1,menuList:e.menuList},null,8,["menuList"])):B("",!0),h(p)])}var an=R(nn,[["render",on],["__scopeId","data-v-4596ab6e"]]);const ln=ie({name:"layoutTagsViewContextmenu",props:{dropdown:{type:Object}},setup(e,{emit:n}){const i=N({isShow:!1,dropdownList:[{contextMenuClickId:0,txt:"message.tagsView.refresh",affix:!1,icon:"elementRefreshRight"},{contextMenuClickId:1,txt:"message.tagsView.close",affix:!1,icon:"elementClose"},{contextMenuClickId:2,txt:"message.tagsView.closeOther",affix:!1,icon:"elementCircleClose"},{contextMenuClickId:3,txt:"message.tagsView.closeAll",affix:!1,icon:"elementFolderDelete"},{contextMenuClickId:4,txt:"message.tagsView.fullscreen",affix:!1,icon:"iconfont icon-fullscreen"}],item:{},arrowLeft:10}),t=T(()=>e.dropdown.x+117>document.documentElement.clientWidth?{x:document.documentElement.clientWidth-117-5,y:e.dropdown.y}:e.dropdown),d=l=>{n("currentContextmenuClick",Object.assign({},{contextMenuClickId:l},i.item))},C=l=>{i.item=l,l.meta.isAffix?i.dropdownList[1].affix=!0:i.dropdownList[1].affix=!1,o(),setTimeout(()=>{i.isShow=!0},10)},o=()=>{i.isShow=!1};return ee(()=>{document.body.addEventListener("click",o)}),fe(()=>{document.body.removeEventListener("click",o)}),K(()=>e.dropdown,({x:l})=>{l+117>document.documentElement.clientWidth?i.arrowLeft=117-(document.documentElement.clientWidth-l):i.arrowLeft=10},{deep:!0}),F({dropdowns:t,openContextmenu:C,closeContextmenu:o,onCurrentContextmenuClick:d},U(i))}}),rn={class:"el-dropdown-menu"},un=["onClick"];function cn(e,n,i,t,d,C){const o=f("SvgIcon");return g(),$(Pe,{name:"el-zoom-in-center"},{default:_(()=>[ce((g(),v("div",{"aria-hidden":"true",class:"el-dropdown__popper el-popper is-light is-pure custom-contextmenu",role:"tooltip","data-popper-placement":"bottom",style:re(`top: ${e.dropdowns.y+5}px;left: ${e.dropdowns.x}px;`),key:Math.random()},[L("ul",rn,[(g(!0),v(q,null,J(e.dropdownList,(l,s)=>(g(),v(q,null,[l.affix?B("",!0):(g(),v("li",{class:"el-dropdown-menu__item","aria-disabled":"false",tabindex:"-1",key:s,onClick:p=>e.onCurrentContextmenuClick(l.contextMenuClickId)},[h(o,{name:l.icon},null,8,["name"]),L("span",null,x(e.$t(l.txt)),1)],8,un))],64))),256))]),L("div",{class:"el-popper__arrow",style:re({left:`${e.arrowLeft}px`})},null,4)],4)),[[me,e.isShow]])]),_:1})}var mn=R(ln,[["render",cn],["__scopeId","data-v-51907903"]]);const dn={name:"layoutTagsView",components:{Contextmenu:mn},setup(){const{proxy:e}=G(),n=X([]),i=X(),t=X(),d=X(),C=z(),o=Z(),l=de(),s=N({routeActive:"",routePath:o.path,dropdown:{x:"",y:""},tagsRefsIndex:0,tagsViewList:[],sortable:"",tagsViewRoutesList:[]}),p=T(()=>C.state.themeConfig.themeConfig.tagsStyle),m=T(()=>C.state.themeConfig.themeConfig),u=c=>m.value.isShareTagsView?c.path===s.routePath:c.url?c.url===s.routeActive:c.path===s.routeActive,a=c=>{oe.set("tagsViewList",c)},y=async()=>{s.routeActive=await te(o),s.routePath=await o.meta.isDynamic?o.meta.isDynamicPath:o.path,s.tagsViewList=[],s.tagsViewRoutesList=C.state.tagsViewRoutes.tagsViewRoutes,S()},S=async()=>{oe.get("tagsViewList")&&m.value.isCacheTagsView?s.tagsViewList=await oe.get("tagsViewList"):(await s.tagsViewRoutesList.map(c=>{c.meta.isAffix&&!c.meta.isHide&&(c.url=te(c),s.tagsViewList.push(F({},c)))}),await V(o.path,o)),Te(m.value.isShareTagsView?s.routePath:s.routeActive)},A=async(c,r)=>{let b=r.meta.isDynamic?r.meta.isDynamicPath:c;if(s.tagsViewList.filter(M=>M.path===b&&ve(r.meta.isDynamic?M.params?M.params:null:M.query?M.query:null,r.meta.isDynamic?(r==null?void 0:r.params)?r==null?void 0:r.params:null:(r==null?void 0:r.query)?r==null?void 0:r.query:null)).length<=0){let M=s.tagsViewRoutesList.find(j=>j.path===b);if(M.meta.isAffix||M.meta.isLink&&!M.meta.isIframe)return!1;r.meta.isDynamic?M.params=r.params:M.query=r.query,M.url=te(M),s.tagsViewList.push(F({},M)),a(s.tagsViewList)}},W=(c,r)=>{let b=r.meta.isDynamic?r.meta.isDynamicPath:c;s.tagsViewList.forEach(w=>{w.path===b&&!ve(r.meta.isDynamic?w.params?w.params:null:w.query?w.query:null,r.meta.isDynamic?(r==null?void 0:r.params)?r==null?void 0:r.params:null:(r==null?void 0:r.query)?r==null?void 0:r.query:null)&&(r.meta.isDynamic?w.params=r.params:w.query=r.query,w.url=te(w),a(s.tagsViewList))})},V=(c,r)=>{ae(async()=>{let b="";if(r&&r.meta.isDynamic){if(m.value.isShareTagsView?await W(c,r):await A(c,r),s.tagsViewList.some(w=>w.path===r.meta.isDynamicPath))return!1;b=s.tagsViewRoutesList.find(w=>w.path===r.meta.isDynamicPath)}else{if(m.value.isShareTagsView?await W(c,r):await A(c,r),s.tagsViewList.some(w=>w.path===c))return!1;b=s.tagsViewRoutesList.find(w=>w.path===c)}if(b.meta.isLink&&!b.meta.isIframe)return!1;r&&r.meta.isDynamic?b.params=(r==null?void 0:r.params)?r==null?void 0:r.params:o.params:b.query=(r==null?void 0:r.query)?r==null?void 0:r.query:o.query,b.url=te(b),await s.tagsViewList.push(F({},b)),await a(s.tagsViewList)})},k=c=>{e.mittBus.emit("onTagsViewRefreshRouterView",c)},I=c=>{s.tagsViewList.map((r,b,w)=>{r.meta.isAffix||(m.value.isShareTagsView?r.path===c:r.url===c)&&(s.tagsViewList.splice(b,1),setTimeout(()=>{(s.tagsViewList.length===b&&m.value.isShareTagsView?s.routePath===c:s.routeActive===c)?w[w.length-1].meta.isDynamic?b!==w.length?l.push({name:w[b].name,params:w[b].params}):l.push({name:w[w.length-1].name,params:w[w.length-1].params}):b!==w.length?l.push({path:w[b].path,query:w[b].query}):l.push({path:w[w.length-1].path,query:w[w.length-1].query}):(s.tagsViewList.length!==b&&m.value.isShareTagsView?s.routePath===c:s.routeActive===c)&&(w[b].meta.isDynamic?l.push({name:w[b].name,params:w[b].params}):l.push({path:w[b].path,query:w[b].query}))},0))}),a(s.tagsViewList)},H=c=>{s.tagsViewList=[],s.tagsViewRoutesList.map(r=>{r.meta.isAffix&&!r.meta.isHide&&s.tagsViewList.push(F({},r))}),V(c,o)},P=()=>{s.tagsViewList=[],s.tagsViewRoutesList.map(c=>{c.meta.isAffix&&!c.meta.isHide&&(s.tagsViewList.push(F({},c)),l.push({path:s.tagsViewList[s.tagsViewList.length-1].path}))}),a(s.tagsViewList)},we=async c=>{const r=s.tagsViewList.find(b=>m.value.isShareTagsView?b.path===c:b.url===c);r.meta.isDynamic?await l.push({name:r.name,params:r.params}):await l.push({name:r.name,query:r.query}),C.dispatch("tagsViewRoutes/setCurrenFullscreen",!0)},Ve=(c,r)=>(oe.get("tagsViewList")?oe.get("tagsViewList"):s.tagsViewList).find(w=>{if(w.path===c&&ve(w.meta.isDynamic?w.params?w.params:null:w.query?w.query:null,r&&Object.keys(r||{}).length>0?r:null))return w;if(w.path===c&&Object.keys(r||{}).length<=0)return w}),xe=async c=>{const r=c.meta.isDynamic?c.params:c.query;if(!Ve(c.path,r))return $e({type:"warning",message:"\u8BF7\u6B63\u786E\u8F93\u5165\u8DEF\u5F84\u53CA\u5B8C\u6574\u53C2\u6570\uFF08query\u3001params\uFF09"});const{path:b,name:w,params:M,query:j,meta:he,url:se}=Ve(c.path,r);switch(c.contextMenuClickId){case 0:he.isDynamic?await l.push({name:w,params:M}):await l.push({path:b,query:j}),k(o.fullPath);break;case 1:I(m.value.isShareTagsView?b:se);break;case 2:he.isDynamic?await l.push({name:w,params:M}):await l.push({path:b,query:j}),H(b);break;case 3:P();break;case 4:we(m.value.isShareTagsView?b:se);break}},je=(c,r)=>{const{clientX:b,clientY:w}=r;s.dropdown.x=b,s.dropdown.y=w,t.value.openContextmenu(c)},Ge=(c,r)=>{s.tagsRefsIndex=r,l.push(c)},te=c=>{let r=c.query&&Object.keys(c.query).length>0?c.query:c.params;if(!r||Object.keys(r).length<=0)return c.path;let b="";for(let w in r)b+=r[w];return`${c.meta.isDynamic?c.meta.isDynamicPath:c.path}-${b}`},Qe=()=>{e.$refs.scrollbarRef.update()},Ye=c=>{e.$refs.scrollbarRef.$refs.wrap$.scrollLeft+=c.wheelDelta/4},Ke=()=>{ae(()=>{if(n.value.length<=0)return!1;let c=n.value[s.tagsRefsIndex],r=s.tagsRefsIndex,b=n.value.length,w=n.value[0],M=n.value[n.value.length-1],j=e.$refs.scrollbarRef.$refs.wrap$,he=j.scrollWidth,se=j.offsetWidth,Ie=j.scrollLeft,Le=n.value[s.tagsRefsIndex-1],Fe=n.value[s.tagsRefsIndex+1],pe="",ge="";c===w?j.scrollLeft=0:c===M?j.scrollLeft=he-se:(r===0?pe=w.offsetLeft-5:pe=(Le==null?void 0:Le.offsetLeft)-5,r===b?ge=M.offsetLeft+M.offsetWidth+5:ge=Fe.offsetLeft+Fe.offsetWidth+5,ge>Ie+se?j.scrollLeft=ge-se:pe<Ie&&(j.scrollLeft=pe)),Qe()})},Te=c=>{ae(async()=>{let r=await s.tagsViewList;s.tagsRefsIndex=r.findIndex(b=>m.value.isShareTagsView?b.path===c:b.url===c),Ke()})},be=async()=>{const c=document.querySelector(".layout-navbars-tagsview-ul");if(!c)return!1;s.sortable.el&&s.sortable.destroy(),s.sortable=ot.create(c,{animation:300,dataIdAttr:"data-url",disabled:!m.value.isSortableTagsView,onEnd:()=>{const r=[];s.sortable.toArray().map(b=>{s.tagsViewList.map(w=>{w.url===b&&r.push(F({},w))})}),a(r)}})},Se=async()=>{await be(),He.isMobile()&&s.sortable.el&&s.sortable.destroy()};return ue(()=>{Se(),window.addEventListener("resize",Se),e.mittBus.on("onCurrentContextmenuClick",c=>{xe(c)}),e.mittBus.on("openOrCloseSortable",()=>{be()}),e.mittBus.on("openShareTagsView",()=>{m.value.isShareTagsView&&(l.push("/home"),s.tagsViewList=[],s.tagsViewRoutesList.map(c=>{c.meta.isAffix&&!c.meta.isHide&&(c.url=te(c),s.tagsViewList.push(F({},c)))}))})}),fe(()=>{e.mittBus.off("onCurrentContextmenuClick"),e.mittBus.off("openOrCloseSortable"),e.mittBus.off("openShareTagsView"),window.removeEventListener("resize",Se)}),st(()=>{n.value=[]}),ee(()=>{y(),be()}),le(async c=>{s.routeActive=te(c),s.routePath=c.meta.isDynamic?c.meta.isDynamicPath:c.path,await V(c.path,c),Te(m.value.isShareTagsView?s.routePath:s.routeActive)}),K(C.state,c=>{if(c.tagsViewRoutes.tagsViewRoutes.length===s.tagsViewRoutesList.length)return!1;y()}),F({isActive:u,onContextmenu:je,getTagsViewRoutes:y,onTagsClick:Ge,tagsRefs:n,contextmenuRef:t,scrollbarRef:i,tagsUlRef:d,onHandleScroll:Ye,getThemeConfig:m,setTagsStyle:p,refreshCurrentTagsView:k,closeCurrentTagsView:I,onCurrentContextmenuClick:xe},U(s))}},fn=["data-url","onContextmenu","onClick"],hn={key:0,class:"iconfont icon-webicon318 layout-navbars-tagsview-ul-li-iconfont font14"};function pn(e,n,i,t,d,C){const o=f("SvgIcon"),l=f("el-scrollbar"),s=f("Contextmenu");return g(),v("div",{class:E(["layout-navbars-tagsview",{"layout-navbars-tagsview-shadow":t.getThemeConfig.layout==="classic"}])},[h(l,{ref:"scrollbarRef",onWheel:ne(t.onHandleScroll,["prevent"])},{default:_(()=>[L("ul",{class:E(["layout-navbars-tagsview-ul",t.setTagsStyle]),ref:"tagsUlRef"},[(g(!0),v(q,null,J(e.tagsViewList,(p,m)=>(g(),v("li",{key:m,class:E(["layout-navbars-tagsview-ul-li",{"is-active":t.isActive(p)}]),"data-url":p.url,onContextmenu:ne(u=>t.onContextmenu(p,u),["prevent"]),onClick:u=>t.onTagsClick(p,m),ref_for:!0,ref:u=>{u&&(t.tagsRefs[m]=u)}},[t.isActive(p)?(g(),v("i",hn)):B("",!0),!t.isActive(p)&&t.getThemeConfig.isTagsviewIcon?(g(),$(o,{key:1,name:p.meta.icon,class:"layout-navbars-tagsview-ul-li-iconfont"},null,8,["name"])):B("",!0),L("span",null,x(e.$t(p.meta.title)),1),t.isActive(p)?(g(),v(q,{key:2},[h(o,{name:"elementRefreshRight",class:"ml5 layout-navbars-tagsview-ul-li-refresh",onClick:n[0]||(n[0]=ne(u=>t.refreshCurrentTagsView(e.$route.fullPath),["stop"]))}),p.meta.isAffix?B("",!0):(g(),$(o,{key:0,name:"elementClose",class:"layout-navbars-tagsview-ul-li-icon layout-icon-active",onClick:ne(u=>t.closeCurrentTagsView(t.getThemeConfig.isShareTagsView?p.path:p.url),["stop"])},null,8,["onClick"]))],64)):B("",!0),p.meta.isAffix?B("",!0):(g(),$(o,{key:3,name:"elementClose",class:"layout-navbars-tagsview-ul-li-icon layout-icon-three",onClick:ne(u=>t.closeCurrentTagsView(t.getThemeConfig.isShareTagsView?p.path:p.url),["stop"])},null,8,["onClick"]))],42,fn))),128))],2)]),_:1},8,["onWheel"]),h(s,{dropdown:e.dropdown,ref:"contextmenuRef",onCurrentContextmenuClick:t.onCurrentContextmenuClick},null,8,["dropdown","onCurrentContextmenuClick"])],2)}var We=R(dn,[["render",pn],["__scopeId","data-v-2adc79d2"]]);const gn={name:"layoutNavBars",components:{BreadcrumbIndex:an,TagsView:We},setup(){const e=z();return{setShowTagsView:T(()=>{let{layout:i,isTagsview:t}=e.state.themeConfig.themeConfig;return i!=="classic"&&t})}}},_n={class:"layout-navbars-container"};function Cn(e,n,i,t,d,C){const o=f("BreadcrumbIndex"),l=f("TagsView");return g(),v("div",_n,[h(o),t.setShowTagsView?(g(),$(l,{key:0})):B("",!0)])}var yn=R(gn,[["render",Cn],["__scopeId","data-v-4d355550"]]);const wn={name:"layoutHeader",components:{NavBarsIndex:yn},setup(){const e=z(),n=T(()=>{let{isTagsview:t,layout:d}=e.state.themeConfig.themeConfig;return t&&d!=="classic"?"84px":"50px"}),i=T(()=>e.state.tagsViewRoutes.isTagsViewCurrenFull);return{setHeaderHeight:n,isTagsViewCurrenFull:i}}};function bn(e,n,i,t,d,C){const o=f("NavBarsIndex"),l=f("el-header");return ce((g(),$(l,{class:"layout-header",height:t.setHeaderHeight},{default:_(()=>[h(o)]),_:1},8,["height"])),[[me,!t.isTagsViewCurrenFull]])}var Ce=R(wn,[["render",bn]]);const Sn={name:"layoutFooter",setup(){const e=N({isDelayFooter:!0});return le(()=>{e.isDelayFooter=!1,setTimeout(()=>{e.isDelayFooter=!0},800)}),F({},U(e))}},Ln=e=>(De("data-v-19515c88"),e=e(),ze(),e),vn={class:"layout-footer mt15"},$n={class:"layout-footer-warp"},kn=Ln(()=>L("div",null,"vue-next-admin\uFF0CMade by lyt with \u2764\uFE0F",-1)),Vn={class:"mt5"};function xn(e,n,i,t,d,C){return ce((g(),v("div",vn,[L("div",$n,[kn,L("div",Vn,x(e.$t("message.copyright.one5")),1)])],512)),[[me,e.isDelayFooter]])}var Tn=R(Sn,[["render",xn],["__scopeId","data-v-19515c88"]]);const In=ie({name:"layoutMain",components:{LayoutParentView:at,Footer:Tn},setup(){const{proxy:e}=G(),n=Z(),i=z(),t=N({headerHeight:"",currentRouteMeta:{}}),d=T(()=>i.state.themeConfig.themeConfig),C=()=>{let{isTagsview:l}=i.state.themeConfig.themeConfig;return l?t.headerHeight="84px":t.headerHeight="50px"},o=()=>{t.currentRouteMeta=n.meta};return ue(()=>{C(),o()}),K(i.state.themeConfig.themeConfig,l=>{if(t.headerHeight=l.isTagsview?"84px":"50px",l.isFixedHeaderChange!==l.isFixedHeader){if(!e.$refs.layoutScrollbarRef)return!1;e.$refs.layoutScrollbarRef.update()}}),K(()=>n.path,()=>{t.currentRouteMeta=n.meta}),F({getThemeConfig:d},U(t))}});function Fn(e,n,i,t,d,C){const o=f("LayoutParentView"),l=f("Footer"),s=f("el-scrollbar"),p=f("el-main");return g(),$(p,{class:"layout-main"},{default:_(()=>[h(s,{class:"layout-scrollbar",ref:"layoutScrollbarRef",style:re({minHeight:`calc(100vh - ${e.headerHeight})`,padding:e.currentRouteMeta.isLink&&e.currentRouteMeta.isIframe?0:"",transition:"padding 0.3s ease-in-out"})},{default:_(()=>[h(o),e.getThemeConfig.isFooter?(g(),$(l,{key:0})):B("",!0)]),_:1},8,["style"])]),_:1})}var ye=R(In,[["render",Fn]]);const An={name:"layoutDefaults",components:{Aside:ke,Header:Ce,Main:ye},setup(){const{proxy:e}=G(),n=z(),i=Z(),t=T(()=>n.state.themeConfig.themeConfig.isFixedHeader);return K(()=>i.path,()=>{e.$refs.layoutDefaultsScrollbarRef.wrap$.scrollTop=0}),{isFixedHeader:t}}};function Rn(e,n,i,t,d,C){const o=f("Aside"),l=f("Header"),s=f("Main"),p=f("el-scrollbar"),m=f("el-container"),u=f("el-backtop");return g(),$(m,{class:"layout-container"},{default:_(()=>[h(o),h(m,{class:E(["flex-center",{"layout-backtop":!t.isFixedHeader}])},{default:_(()=>[t.isFixedHeader?(g(),$(l,{key:0})):B("",!0),h(p,{ref:"layoutDefaultsScrollbarRef",class:E({"layout-backtop":t.isFixedHeader})},{default:_(()=>[t.isFixedHeader?B("",!0):(g(),$(l,{key:0})),h(s)]),_:1},8,["class"])]),_:1},8,["class"]),h(u,{target:".layout-backtop .el-scrollbar__wrap"})]),_:1})}var Mn=R(An,[["render",Rn]]);const Bn={name:"layoutClassic",components:{Aside:ke,Header:Ce,Main:ye,TagsView:We},setup(){const e=z();return{getThemeConfig:T(()=>e.state.themeConfig.themeConfig)}}},Hn={class:"flex-center layout-backtop"};function Dn(e,n,i,t,d,C){const o=f("Header"),l=f("Aside"),s=f("TagsView"),p=f("Main"),m=f("el-container"),u=f("el-backtop");return g(),$(m,{class:"layout-container flex-center"},{default:_(()=>[h(o),h(m,{class:"layout-mian-height-50"},{default:_(()=>[h(l),L("div",Hn,[t.getThemeConfig.isTagsview?(g(),$(s,{key:0})):B("",!0),h(p)])]),_:1}),h(u,{target:".layout-backtop .el-main .el-scrollbar__wrap"})]),_:1})}var zn=R(Bn,[["render",Dn]]);const En={name:"layoutTransverse",components:{Header:Ce,Main:ye}};function qn(e,n,i,t,d,C){const o=f("Header"),l=f("Main"),s=f("el-backtop"),p=f("el-container");return g(),$(p,{class:"layout-container flex-center layout-backtop"},{default:_(()=>[h(o),h(l),h(s,{target:".layout-backtop .el-main .el-scrollbar__wrap"})]),_:1})}var Pn=R(En,[["render",qn]]);const On={name:"layoutColumnsAside",setup(){const e=X([]),n=X(),{proxy:i}=G(),t=z(),d=Z(),C=de(),o=N({columnsAsideList:[],liIndex:0,liOldIndex:null,liHoverIndex:null,liOldPath:null,difference:0,routeSplit:[],isNavHover:!1}),l=T(()=>t.state.themeConfig.themeConfig.columnsAsideStyle),s=T(()=>t.state.themeConfig.themeConfig.columnsAsideLayout),p=k=>{o.liIndex=k,n.value.style.top=`${e.value[k].offsetTop+o.difference}px`},m=(k,I)=>{p(I);let{path:H,redirect:P}=k;P?C.push(P):C.push(H)},u=(k,I)=>{let{path:H}=k;o.liOldPath=H,o.liOldIndex=I,o.liHoverIndex=I,i.mittBus.emit("setSendColumnsChildren",A(H)),t.dispatch("routesList/setColumnsMenuHover",!1),t.dispatch("routesList/setColumnsNavHover",!0),o.isNavHover=!0},a=async()=>{await t.dispatch("routesList/setColumnsNavHover",!1),setTimeout(()=>{const{isColumnsMenuHover:k,isColumnsNavHover:I}=t.state.routesList;!k&&!I&&i.mittBus.emit("restoreDefault")},100)},y=k=>{ae(()=>{p(k)})},S=()=>{o.columnsAsideList=W(t.state.routesList.routesList);const k=A(d.path);if(Object.keys(k).length<=0)return!1;y(k.item[0].k),i.mittBus.emit("setSendColumnsChildren",k)},A=k=>{const I=k.split("/");let H={};return o.columnsAsideList.map((P,we)=>{P.path===`/${I[1]}`&&(P.k=we,H.item=[F({},P)],H.children=[F({},P)],P.children&&(H.children=P.children))}),H},W=k=>k.filter(I=>!I.meta.isHide).map(I=>(I=Object.assign({},I),I.children&&(I.children=W(I.children)),I)),V=k=>{o.routeSplit=k.split("/"),o.routeSplit.shift();const I=`/${o.routeSplit[0]}`,H=o.columnsAsideList.find(P=>P.path===I);if(!H)return!1;setTimeout(()=>{y(H.k)},0)};return K(t.state,k=>{if(k.themeConfig.themeConfig.columnsAsideStyle==="columnsRound"?o.difference=3:o.difference=0,!k.routesList.isColumnsMenuHover&&!k.routesList.isColumnsNavHover)o.liHoverIndex=null,i.mittBus.emit("setSendColumnsChildren",A(d.path));else{if(o.liHoverIndex=o.liOldIndex,!o.liOldPath)return!1;i.mittBus.emit("setSendColumnsChildren",A(o.liOldPath))}}),ee(()=>{S(),i.mittBus.on("restoreDefault",()=>{o.liOldIndex=null,o.liOldPath=null})}),fe(()=>{i.mittBus.off("restoreDefault",()=>{})}),le(k=>{V(k.path),i.mittBus.emit("setSendColumnsChildren",A(k.path))}),F({columnsAsideOffsetTopRefs:e,columnsAsideActiveRef:n,onColumnsAsideDown:y,setColumnsAsideStyle:l,setColumnsAsidelayout:s,onColumnsAsideMenuClick:m,onColumnsAsideMenuMouseenter:u,onColumnsAsideMenuMouseleave:a},U(o))}},Nn={class:"layout-columns-aside"},Un=["onClick","onMouseenter","title"],Wn={class:"columns-vertical-title font12"},jn=["href"],Gn={class:"columns-vertical-title font12"};function Qn(e,n,i,t,d,C){const o=f("SvgIcon"),l=f("el-scrollbar");return g(),v("div",Nn,[h(l,null,{default:_(()=>[L("ul",{onMouseleave:n[0]||(n[0]=s=>t.onColumnsAsideMenuMouseleave())},[(g(!0),v(q,null,J(e.columnsAsideList,(s,p)=>(g(),v("li",{key:p,onClick:m=>t.onColumnsAsideMenuClick(s,p),onMouseenter:m=>t.onColumnsAsideMenuMouseenter(s,p),ref_for:!0,ref:m=>{m&&(t.columnsAsideOffsetTopRefs[p]=m)},class:E({"layout-columns-active":e.liIndex===p,"layout-columns-hover":e.liHoverIndex===p}),title:e.$t(s.meta.title)},[!s.meta.isLink||s.meta.isLink&&s.meta.isIframe?(g(),v("div",{key:0,class:E(t.setColumnsAsidelayout)},[h(o,{name:s.meta.icon},null,8,["name"]),L("div",Wn,x(e.$t(s.meta.title)&&e.$t(s.meta.title).length>=4?e.$t(s.meta.title).substr(0,t.setColumnsAsidelayout==="columns-vertical"?4:3):e.$t(s.meta.title)),1)],2)):(g(),v("div",{key:1,class:E(t.setColumnsAsidelayout)},[L("a",{href:s.meta.isLink,target:"_blank"},[h(o,{name:s.meta.icon},null,8,["name"]),L("div",Gn,x(e.$t(s.meta.title)&&e.$t(s.meta.title).length>=4?e.$t(s.meta.title).substr(0,t.setColumnsAsidelayout==="columns-vertical"?4:3):e.$t(s.meta.title)),1)],8,jn)],2))],42,Un))),128)),L("div",{ref:"columnsAsideActiveRef",class:E(t.setColumnsAsideStyle)},null,2)],32)]),_:1})])}var Yn=R(On,[["render",Qn],["__scopeId","data-v-21c9fb78"]]);const Kn={name:"layoutColumns",components:{Aside:ke,Header:Ce,Main:ye,ColumnsAside:Yn},setup(){const e=z();return{isFixedHeader:T(()=>e.state.themeConfig.themeConfig.isFixedHeader)}}},Xn={class:"layout-columns-warp"};function Jn(e,n,i,t,d,C){const o=f("ColumnsAside"),l=f("Aside"),s=f("Header"),p=f("Main"),m=f("el-scrollbar"),u=f("el-container"),a=f("el-backtop");return g(),$(u,{class:"layout-container"},{default:_(()=>[h(o),L("div",Xn,[h(l),h(u,{class:E(["flex-center layout-backtop",{"layout-backtop":!t.isFixedHeader}])},{default:_(()=>[t.isFixedHeader?(g(),$(s,{key:0})):B("",!0),h(m,{class:E({"layout-backtop":t.isFixedHeader})},{default:_(()=>[t.isFixedHeader?B("",!0):(g(),$(s,{key:0})),h(p)]),_:1},8,["class"])]),_:1},8,["class"])]),h(a,{target:".layout-backtop .el-scrollbar__wrap"})]),_:1})}var Zn=R(Kn,[["render",Jn]]);const es={name:"layout",components:{Defaults:Mn,Classic:zn,Transverse:Pn,Columns:Zn},setup(){const{proxy:e}=G(),n=z(),i=T(()=>n.state.themeConfig.themeConfig),t=()=>{Q.get("oldLayout")||Q.set("oldLayout",i.value.layout);const d=document.body.clientWidth;d<1e3?(i.value.isCollapse=!1,e.mittBus.emit("layoutMobileResize",{layout:"defaults",clientWidth:d})):e.mittBus.emit("layoutMobileResize",{layout:Q.get("oldLayout")?Q.get("oldLayout"):i.value.layout,clientWidth:d})};return ue(()=>{t(),window.addEventListener("resize",t)}),fe(()=>{window.removeEventListener("resize",t)}),{getThemeConfig:i}}};function ts(e,n,i,t,d,C){const o=f("Defaults"),l=f("Classic"),s=f("Transverse"),p=f("Columns");return t.getThemeConfig.layout==="defaults"?(g(),$(o,{key:0})):t.getThemeConfig.layout==="classic"?(g(),$(l,{key:1})):t.getThemeConfig.layout==="transverse"?(g(),$(s,{key:2})):t.getThemeConfig.layout==="columns"?(g(),$(p,{key:3})):B("",!0)}var ls=R(es,[["render",ts]]);export{ls as default};
