var k=Object.defineProperty;var I=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var b=(e,t,o)=>t in e?k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,y=(e,t)=>{for(var o in t||(t={}))F.call(t,o)&&b(e,o,t[o]);if(I)for(var o of I(t))B.call(t,o)&&b(e,o,t[o]);return e};import{i as N,K as R,P as $,a3 as v,m as P,L as V,t as T,S as U,F as s,b as q,r as u,I as A,D as n,x as S,y as L,C as x,k as D}from"./vendor.1650542013096.js";import{_ as E,u as M,f as O,S as C,b as j,c as z}from"./index.1650542013096.js";const J=N({name:"loginAccount",setup(){const{t:e}=R(),{proxy:t}=D(),o=M(),d=$(),_=v(),i=P({isShowPassword:!1,ruleForm:{userName:"admin",password:"123456"},loading:{signIn:!1}}),f=V(()=>O(new Date)),g=async()=>{i.loading.signIn=!0;let a=[],l=[],m=["admin"],c=["btn.add","btn.del","btn.edit","btn.link"],r=["common"],h=["btn.add","btn.link"];i.ruleForm.userName==="admin"?(a=m,l=c):(a=r,l=h);const w={userName:i.ruleForm.userName,photo:i.ruleForm.userName==="admin"?"https://gitee.com/sugarpeter/images/raw/master/bear.gif":"https://gitee.com/sugarpeter/images/raw/master/rabbit.gif",time:new Date().getTime(),roles:a,authBtnList:l};C.set("token",Math.random().toString(36).substr(0)),C.set("userInfo",w),o.dispatch("userInfos/setUserInfos",w),o.state.themeConfig.themeConfig.isRequestRoutes?(await z(),p()):(await j(),p())},p=()=>{var l,m,c,r;let a=f.value;((l=d.query)==null?void 0:l.redirect)?_.push({path:(m=d.query)==null?void 0:m.redirect,query:Object.keys((c=d.query)==null?void 0:c.params).length>0?JSON.parse((r=d.query)==null?void 0:r.params):""}):_.push("/"),setTimeout(()=>{i.loading.signIn=!0;const h=e("message.signInText");q.success(`${a}\uFF0C${h}`),t.mittBus.emit("onSignInClick")},300)};return y({currentTime:f,onSignIn:g},T(i))}});function K(e,t,o,d,_,i){const f=u("elementUser"),g=u("el-icon"),p=u("el-input"),a=u("el-form-item"),l=u("elementUnlock"),m=u("el-button"),c=u("el-form");return A(),U(c,{class:"login-content-form"},{default:s(()=>[n(a,{class:"login-animation-one"},{default:s(()=>[n(p,{type:"text",placeholder:e.$t("message.account.accountPlaceholder1"),modelValue:e.ruleForm.userName,"onUpdate:modelValue":t[0]||(t[0]=r=>e.ruleForm.userName=r),clearable:"",autocomplete:"off"},{prefix:s(()=>[n(g,{class:"el-input__icon"},{default:s(()=>[n(f)]),_:1})]),_:1},8,["placeholder","modelValue"])]),_:1}),n(a,{class:"login-animation-two"},{default:s(()=>[n(p,{type:e.isShowPassword?"text":"password",placeholder:e.$t("message.account.accountPlaceholder2"),modelValue:e.ruleForm.password,"onUpdate:modelValue":t[2]||(t[2]=r=>e.ruleForm.password=r),autocomplete:"off"},{prefix:s(()=>[n(g,{class:"el-input__icon"},{default:s(()=>[n(l)]),_:1})]),suffix:s(()=>[S("i",{class:L(["iconfont el-input__icon login-content-password",e.isShowPassword?"icon-yincangmima":"icon-xianshimima"]),onClick:t[1]||(t[1]=r=>e.isShowPassword=!e.isShowPassword)},null,2)]),_:1},8,["type","placeholder","modelValue"])]),_:1}),n(a,{class:"login-animation-four"},{default:s(()=>[n(m,{type:"primary",class:"login-content-submit",round:"",onClick:e.onSignIn,loading:e.loading.signIn},{default:s(()=>[S("span",null,x(e.$t("message.account.accountBtnText")),1)]),_:1},8,["onClick","loading"])]),_:1})]),_:1})}var W=E(J,[["render",K],["__scopeId","data-v-4b20d4da"]]);export{W as default};
